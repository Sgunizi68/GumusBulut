<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finansal Analiz ve Kontrol Paneli</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            overflow: hidden;
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: linear-gradient(135deg, #2c5282, #3182ce);
            color: white;
            padding: 20px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 600;
        }

        .period-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .period-dropdown {
            background: rgba(255,255,255,0.95);
            color: #2c5282;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            min-width: 120px;
        }

        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
            min-width: 1200px;
        }

        th, td {
            padding: 12px 10px;
            text-align: center;
            border: 1px solid #e2e8f0;
            position: relative;
        }

        th {
            background: linear-gradient(135deg, #edf2f7, #e2e8f0);
            font-weight: 600;
            color: #2d3748;
            font-size: 12px;
        }

        .platform-name {
            background-color: #fed7d7;
            font-weight: bold;
            text-align: left;
            color: #c53030;
            padding-left: 20px;
            font-size: 14px;
        }

        .week-header {
            background: linear-gradient(135deg, #4299e1, #3182ce);
            color: white;
            font-weight: bold;
            position: relative;
            font-size: 11px;
        }

        .sub-header {
            background-color: #edf2f7;
            font-size: 10px;
            color: #4a5568;
            font-weight: 500;
        }

        .value-cell {
            background-color: white;
            position: relative;
            transition: all 0.2s;
            font-weight: 500;
        }

        .value-cell:hover {
            background-color: #f7fafc;
            transform: scale(1.02);
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .revenue-cell {
            background-color: #e6fffa;
            border-left: 3px solid #38b2ac;
        }

        .transfer-cell {
            background-color: #fef5e7;
            border-left: 3px solid #ed8936;
        }

        .commission-cell {
            background-color: #e6f3ff;
            border-left: 3px solid #4299e1;
        }

        .total-cell {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .grand-total-row {
            background: linear-gradient(135deg, #2c5282, #3182ce);
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .grand-total-row td {
            background: linear-gradient(135deg, #2c5282, #3182ce);
            color: white;
            font-weight: bold;
            padding: 15px 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Online Kontrol Dashboard</h1>
            <div class="period-controls">
                <label style="font-size: 14px; margin-right: 10px;">Dönem:</label>
                <select class="period-dropdown" id="periodSelect">
                    <option value="2508">2508 - Ağustos 2025</option>
                    <option value="2507">2507 - Temmuz 2025</option>
                    <option value="2506">2506 - Haziran 2025</option>
                    <option value="2505">2505 - Mayıs 2025</option>
                    <option value="2504">2504 - Nisan 2025</option>
                </select>
            </div>
        </div>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th rowspan="2" style="width: 180px; background: linear-gradient(135deg, #4a5568, #2d3748); color: white;">Platform</th>
                        <th class="week-header" colspan="3">1-7 Ağustos</th>
                        <th class="week-header" colspan="3">8-14 Ağustos</th>
                        <th class="week-header" colspan="3">15-21 Ağustos</th>
                        <th class="week-header" colspan="3">22-28 Ağustos</th>
                        <th class="week-header" colspan="3">29-31 Ağustos</th>
                        <th rowspan="2" style="background: linear-gradient(135deg, #48bb78, #38a169); color: white; font-weight: bold;">Toplam</th>
                    </tr>
                    <tr>
                        <th class="sub-header revenue-cell">Gelir</th>
                        <th class="sub-header transfer-cell">Virman</th>
                        <th class="sub-header commission-cell">Komisyon</th>
                        <th class="sub-header revenue-cell">Gelir</th>
                        <th class="sub-header transfer-cell">Virman</th>
                        <th class="sub-header commission-cell">Komisyon</th>
                        <th class="sub-header revenue-cell">Gelir</th>
                        <th class="sub-header transfer-cell">Virman</th>
                        <th class="sub-header commission-cell">Komisyon</th>
                        <th class="sub-header revenue-cell">Gelir</th>
                        <th class="sub-header transfer-cell">Virman</th>
                        <th class="sub-header commission-cell">Komisyon</th>
                        <th class="sub-header revenue-cell">Gelir</th>
                        <th class="sub-header transfer-cell">Virman</th>
                        <th class="sub-header commission-cell">Komisyon</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="platform-name">Yemek Sepeti Online</td>
                        <td class="value-cell revenue-cell">10000</td>
                        <td class="value-cell transfer-cell">9990</td>
                        <td class="value-cell commission-cell">2997</td>
                        <td class="value-cell revenue-cell">5000</td>
                        <td class="value-cell transfer-cell">5000</td>
                        <td class="value-cell commission-cell">2997</td>
                        <td class="value-cell revenue-cell">10000</td>
                        <td class="value-cell transfer-cell">9990</td>
                        <td class="value-cell commission-cell">2997</td>
                        <td class="value-cell revenue-cell">5000</td>
                        <td class="value-cell transfer-cell">5000</td>
                        <td class="value-cell commission-cell">2997</td>
                        <td class="value-cell revenue-cell">10000</td>
                        <td class="value-cell transfer-cell">9990</td>
                        <td class="value-cell commission-cell">2997</td>
                        <td class="total-cell">32997</td>
                    </tr>
                    <tr>
                        <td class="platform-name">Trendyol Online</td>
                        <td class="value-cell revenue-cell">12000</td>
                        <td class="value-cell transfer-cell">12000</td>
                        <td class="value-cell commission-cell">3600</td>
                        <td class="value-cell revenue-cell">20000</td>
                        <td class="value-cell transfer-cell">20000</td>
                        <td class="value-cell commission-cell">3600</td>
                        <td class="value-cell revenue-cell">12000</td>
                        <td class="value-cell transfer-cell">12000</td>
                        <td class="value-cell commission-cell">3600</td>
                        <td class="value-cell revenue-cell">2000</td>
                        <td class="value-cell transfer-cell">2000</td>
                        <td class="value-cell commission-cell">3600</td>
                        <td class="value-cell revenue-cell">6788</td>
                        <td class="value-cell transfer-cell">6788</td>
                        <td class="value-cell commission-cell">2036</td>
                        <td class="total-cell">70788</td>
                    </tr>
                    <tr>
                        <td class="platform-name">Getir Online</td>
                        <td class="value-cell revenue-cell">1000</td>
                        <td class="value-cell transfer-cell">990</td>
                        <td class="value-cell commission-cell">297</td>
                        <td class="value-cell revenue-cell">500</td>
                        <td class="value-cell transfer-cell">500</td>
                        <td class="value-cell commission-cell">297</td>
                        <td class="value-cell revenue-cell">3000</td>
                        <td class="value-cell transfer-cell">3000</td>
                        <td class="value-cell commission-cell">900</td>
                        <td class="value-cell revenue-cell">500</td>
                        <td class="value-cell transfer-cell">500</td>
                        <td class="value-cell commission-cell">297</td>
                        <td class="value-cell revenue-cell">8800</td>
                        <td class="value-cell transfer-cell">8800</td>
                        <td class="value-cell commission-cell">2640</td>
                        <td class="total-cell">13790</td>
                    </tr>
                    <tr>
                        <td class="platform-name">Migros Yemek Online</td>
                        <td class="value-cell revenue-cell">100</td>
                        <td class="value-cell transfer-cell">140</td>
                        <td class="value-cell commission-cell">42</td>
                        <td class="value-cell revenue-cell">350</td>
                        <td class="value-cell transfer-cell">350</td>
                        <td class="value-cell commission-cell">42</td>
                        <td class="value-cell revenue-cell">100</td>
                        <td class="value-cell transfer-cell">140</td>
                        <td class="value-cell commission-cell">42</td>
                        <td class="value-cell revenue-cell">400</td>
                        <td class="value-cell transfer-cell">350</td>
                        <td class="value-cell commission-cell">42</td>
                        <td class="value-cell revenue-cell">100</td>
                        <td class="value-cell transfer-cell">140</td>
                        <td class="value-cell commission-cell">42</td>
                        <td class="total-cell">1080</td>
                    </tr>
                    <tr class="grand-total-row">
                        <td>GENEL TOPLAM</td>
                        <td id="week1-revenue">23100</td>
                        <td id="week1-transfer">23120</td>
                        <td id="week1-commission">6936</td>
                        <td id="week2-revenue">25850</td>
                        <td id="week2-transfer">25850</td>
                        <td id="week2-commission">6936</td>
                        <td id="week3-revenue">25100</td>
                        <td id="week3-transfer">25130</td>
                        <td id="week3-commission">7539</td>
                        <td id="week4-revenue">7900</td>
                        <td id="week4-transfer">7850</td>
                        <td id="week4-commission">6936</td>
                        <td id="week5-revenue">25688</td>
                        <td id="week5-transfer">25718</td>
                        <td id="week5-commission">7715</td>
                        <td id="grandTotal">118655</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Dropdown functionality
        document.getElementById('periodSelect').addEventListener('change', function() {
            const selectedPeriod = this.value;
            console.log('Seçilen dönem:', selectedPeriod);
            // Burada dönem değişikliği ile ilgili işlemler yapılabilir
        });

        // Gelir ve Virman değerlerini kontrol eden fonksiyon
        function checkRevenueTransferMismatch() {
            const rows = document.querySelectorAll('tbody tr:not(.grand-total-row)');
            let hasMismatch = false;
            const alertBanner = document.getElementById('alertBanner');
            
            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                
                // Her satırda gelir ve virman çiftlerini kontrol et
                for (let i = 1; i < cells.length - 1; i += 3) {
                    const revenueCell = cells[i];
                    const transferCell = cells[i + 1];
                    
                    if (revenueCell && transferCell) {
                        const revenueValue = parseInt(revenueCell.textContent.replace(/,/g, '')) || 0;
                        const transferValue = parseInt(transferCell.textContent.replace(/,/g, '')) || 0;
                        
                        if (revenueValue !== transferValue) {
                            revenueCell.classList.add('warning-cell');
                            transferCell.classList.add('warning-cell');
                            hasMismatch = true;
                        } else {
                            revenueCell.classList.remove('warning-cell');
                            transferCell.classList.remove('warning-cell');
                        }
                    }
                }
            });
            
            // Uyarı banner'ını göster/gizle
            if (hasMismatch) {
                alertBanner.classList.add('show');
            } else {
                alertBanner.classList.remove('show');
            }
        }

        // Sayfa yüklendiğinde kontrol et
        checkRevenueTransferMismatch();
    </script>
</body>
</html>