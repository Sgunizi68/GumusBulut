import React, { useEffect } from 'react';

export const YemekCekiKontrolDashboardPage: React.FC = () => {
    useEffect(() => {
        // Script content will go here
        function updateDashboard() {
            const period = document.getElementById('period') as HTMLSelectElement;
            const periodNames: { [key: string]: string } = {
                '2507': 'Temmuz 2025 (2507)',
                '2508': 'Aƒüustos 2025 (2508)',
                '2509': 'Eyl√ºl 2025 (2509)',
                '2510': 'Ekim 2025 (2510)'
            };

            const tableHeaderTitle = document.querySelector('.table-header-title');
            if (tableHeaderTitle) {
                tableHeaderTitle.innerHTML = `üìã Yemek √áeki Kategorileri Detay Raporu - ${periodNames[period.value]}`;
            }

            // √ñzet kartlarƒ± g√ºncelleme animasyonu
            const cards = document.querySelectorAll('.summary-card');
            cards.forEach((card, index) => {
                (card as HTMLElement).style.animation = 'none';
                setTimeout(() => {
                    (card as HTMLElement).style.animation = `fadeInUp 0.6s ease-out ${index * 0.1}s`;
                }, 10);
            });
        }

        // Sayfa y√ºklendiƒüinde animasyonlarƒ± ba≈ülat
        const rows = document.querySelectorAll('tbody tr');
        rows.forEach((row, index) => {
            (row as HTMLElement).style.opacity = '0';
            (row as HTMLElement).style.transform = 'translateY(20px)';
            setTimeout(() => {
                (row as HTMLElement).style.transition = 'all 0.5s ease';
                (row as HTMLElement).style.opacity = '1';
                (row as HTMLElement).style.transform = 'translateY(0)';
            }, index * 100);
        });

        // Checkbox deƒüi≈üim kontrol√º
        document.querySelectorAll('.checkbox').forEach(checkbox => {
            const typedCheckbox = checkbox as HTMLInputElement;
            typedCheckbox.addEventListener('change', function() {
                const row = this.closest('tr');
                if (row) {
                    if (this.checked) {
                        (row as HTMLElement).style.background = 'linear-gradient(135deg, rgba(0, 184, 148, 0.1) 0%, rgba(0, 160, 133, 0.1) 100%)';
                    } else {
                        (row as HTMLElement).style.background = '';
                    }
                }
            });
        });

        // Expose updateDashboard to global scope for onchange attribute
        (window as any).updateDashboard = updateDashboard;

        return () => {
            // Cleanup if necessary
            delete (window as any).updateDashboard;
        };
    }, []);

    return (
        // HTML content will go here, converted to JSX
        <div className="container">
            <div className="header">
                <h1>üçΩÔ∏è Yemek √áeki Kontrol Dashboard</h1>
            </div>

            <div className="content">
                {/* √ñzet Kartlarƒ± */}
                <div className="summary-cards">
                    <div className="summary-card income">
                        <h3>üìä Aylƒ±k Toplam Gelir</h3>
                        <div className="amount">‚Ç∫170,500.00</div>
                    </div>
                    <div className="summary-card paid">
                        <h3>üí∞ D√∂nem Tutar Toplamƒ±</h3>
                        <div className="amount">‚Ç∫166,550.00</div>
                    </div>
                    <div className="summary-card difference">
                        <h3>‚öñÔ∏è Fark</h3>
                        <div className="amount">-‚Ç∫3,950.00</div>
                    </div>
                    <div className="summary-card pending">
                        <h3>üìù Kontrol Edilen Kayƒ±t</h3>
                        <div className="amount">9</div>
                    </div>
                </div>

                {/* Yemek √áeki Kategorileri Tablosu */}
                <div className="data-table">
                    <div className="table-header">
                        <div className="table-header-title">
                            üìã Yemek √áeki Kategorileri Detay Raporu - Aƒüustos 2025 (2508)
                        </div>
                        <div className="period-selector">
                            <label htmlFor="period">D√∂nem:</label>
                            <select id="period" onChange={() => (window as any).updateDashboard()}>
                                <option value="2508">2508 - Aƒüustos 2025</option>
                                <option value="2509">2509 - Eyl√ºl 2025</option>
                                <option value="2507">2507 - Temmuz 2025</option>
                                <option value="2510">2510 - Ekim 2025</option>
                            </select>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th style={{ width: '20%' }}>Kategori</th>
                                <th style={{ width: '10%' }}>ƒ∞lk Tarih</th>
                                <th style={{ width: '10%' }}>Son Tarih</th>
                                <th style={{ width: '10%' }}>Tutar</th>
                                <th style={{ width: '10%' }}>√ñnceki D√∂nem</th>
                                <th style={{ width: '10%' }}>Sonraki D√∂nem</th>
                                <th style={{ width: '10%' }}>D√∂nem Tutar</th>
                                <th style={{ width: '8%' }}>Fatura</th>
                                <th style={{ width: '10%' }}>Fatura Tarihi</th>
                                <th style={{ width: '10%' }}>√ñdeme Tarihi</th>
                                <th style={{ width: '3%' }}>‚úì</th>
                            </tr>
                        </thead>
                        <tbody>
                            {/* MULTINET Kategori Header */}
                            <tr className="category-header">
                                <td>üí≥ MULTINET</td>
                                <td>Aylƒ±k Gelir:</td>
                                <td className="positive-diff">‚Ç∫85,000.00</td>
                                <td>Toplam D√∂nem:</td>
                                <td className="positive-diff">‚Ç∫95,250.00</td>
                                <td>Fark:</td>
                                <td className="positive-diff">+‚Ç∫10,250.00</td>
                                <td colSpan={4}></td>
                            </tr>
                            <tr>
                                <td style={{ paddingLeft: '25px' }}>YC-MLT-001</td>
                                <td>25.07.2025</td>
                                <td>15.08.2025</td>
                                <td className="amount">‚Ç∫45,200.00</td>
                                <td className="amount negative">-‚Ç∫8,150.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount positive">‚Ç∫37,050.00</td>
                                <td><span className="status-badge status-invoiced">Kesildi</span></td>
                                <td>16.08.2025</td>
                                <td>25.08.2025</td>
                                <td><input type="checkbox" className="checkbox" defaultChecked /></td>
                            </tr>
                            <tr>
                                <td style={{ paddingLeft: '25px' }}>YC-MLT-002</td>
                                <td>01.08.2025</td>
                                <td>31.08.2025</td>
                                <td className="amount">‚Ç∫58,900.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount positive">‚Ç∫58,900.00</td>
                                <td><span className="status-badge status-invoiced">Kesildi</span></td>
                                <td>02.09.2025</td>
                                <td>12.09.2025</td>
                                <td><input type="checkbox" className="checkbox" defaultChecked /></td>
                            </tr>
                            <tr>
                                <td style={{ paddingLeft: '25px' }}>YC-MLT-003</td>
                                <td>15.07.2025</td>
                                <td>10.09.2025</td>
                                <td className="amount">‚Ç∫11,700.00</td>
                                <td className="amount negative">-‚Ç∫2,400.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount positive">‚Ç∫8,300.00</td>
                                <td><span className="status-badge status-pending">Beklemede</span></td>
                                <td>-</td>
                                <td>-</td>
                                <td><input type="checkbox" className="checkbox" /></td>
                            </tr>

                            {/* TICKET Kategori Header */}
                            <tr className="category-header">
                                <td>üé´ TICKET</td>
                                <td>Aylƒ±k Gelir:</td>
                                <td className="negative-diff">‚Ç∫34,200.00</td>
                                <td>Toplam D√∂nem:</td>
                                <td className="negative-diff">‚Ç∫32,500.00</td>
                                <td>Fark:</td>
                                <td className="negative-diff">-‚Ç∫1,700.00</td>
                                <td colSpan={4}></td>
                            </tr>
                            <tr>
                                <td style={{ paddingLeft: '25px' }}>YC-TKT-001</td>
                                <td>01.08.2025</td>
                                <td>31.08.2025</td>
                                <td className="amount">‚Ç∫18,750.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount positive">‚Ç∫18,750.00</td>
                                <td><span className="status-badge status-invoiced">Kesildi</span></td>
                                <td>01.09.2025</td>
                                <td>08.09.2025</td>
                                <td><input type="checkbox" className="checkbox" defaultChecked /></td>
                            </tr>
                            <tr>
                                <td style={{ paddingLeft: '25px' }}>YC-TKT-002</td>
                                <td>20.07.2025</td>
                                <td>25.08.2025</td>
                                <td className="amount">‚Ç∫17,600.00</td>
                                <td className="amount negative">-‚Ç∫3,850.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount positive">‚Ç∫13,750.00</td>
                                <td><span className="status-badge status-invoiced">Kesildi</span></td>
                                <td>26.08.2025</td>
                                <td>-</td>
                                <td><input type="checkbox" className="checkbox" /></td>
                            </tr>

                            {/* SODEXO Kategori Header */}
                            <tr className="category-header">
                                <td>ü™ô SODEXO</td>
                                <td>Aylƒ±k Gelir:</td>
                                <td className="negative-diff">‚Ç∫29,800.00</td>
                                <td>Toplam D√∂nem:</td>
                                <td className="negative-diff">‚Ç∫28,150.00</td>
                                <td>Fark:</td>
                                <td className="negative-diff">-‚Ç∫1,650.00</td>
                                <td colSpan={4}></td>
                            </tr>
                            <tr>
                                <td style={{ paddingLeft: '25px' }}>YC-SDX-001</td>
                                <td>05.08.2025</td>
                                <td>28.08.2025</td>
                                <td className="amount">‚Ç∫15,900.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount positive">‚Ç∫15,900.00</td>
                                <td><span className="status-badge status-invoiced">Kesildi</span></td>
                                <td>30.08.2025</td>
                                <td>05.09.2025</td>
                                <td><input type="checkbox" className="checkbox" defaultChecked /></td>
                            </tr>
                            <tr>
                                <td style={{ paddingLeft: '25px' }}>YC-SDX-002</td>
                                <td>12.08.2025</td>
                                <td>18.09.2025</td>
                                <td className="amount">‚Ç∫18,450.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount negative">-‚Ç∫6,200.00</td>
                                <td className="amount positive">‚Ç∫12,250.00</td>
                                <td><span className="status-badge status-pending">Beklemede</span></td>
                                <td>-</td>
                                <td>-</td>
                                <td><input type="checkbox" className="checkbox" /></td>
                            </tr>

                            {/* METROPOL SETCARD Kategori Header */}
                            <tr className="category-header">
                                <td>üõçÔ∏è METROPOL SETCARD</td>
                                <td>Aylƒ±k Gelir:</td>
                                <td className="negative-diff">‚Ç∫21,500.00</td>
                                <td>Toplam D√∂nem:</td>
                                <td className="negative-diff">‚Ç∫10,650.00</td>
                                <td>Fark:</td>
                                <td className="negative-diff">-‚Ç∫10,850.00</td>
                                <td colSpan={4}></td>
                            </tr>
                            <tr>
                                <td style={{ paddingLeft: '25px' }}>YC-MET-001</td>
                                <td>10.07.2025</td>
                                <td>05.09.2025</td>
                                <td className="amount">‚Ç∫26,800.00</td>
                                <td className="amount negative">-‚Ç∫12,950.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount positive">‚Ç∫9,650.00</td>
                                <td><span className="status-badge status-invoiced">Kesildi</span></td>
                                <td>08.09.2025</td>
                                <td>-</td>
                                <td><input type="checkbox" className="checkbox" /></td>
                            </tr>
                            <tr>
                                <td style={{ paddingLeft: '25px' }}>YC-MET-002</td>
                                <td>15.08.2025</td>
                                <td>25.08.2025</td>
                                <td className="amount">‚Ç∫1,000.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount">‚Ç∫0.00</td>
                                <td className="amount positive">‚Ç∫1,000.00</td>
                                <td><span className="status-badge status-invoiced">Kesildi</span></td>
                                <td>26.08.2025</td>
                                <td>28.08.2025</td>
                                <td><input type="checkbox" className="checkbox" defaultChecked /></td>
                            </tr>

                            {/* Genel Toplam */}
                            <tr className="total-row">
                                <td>üìä GENEL TOPLAM</td>
                                <td>Aylƒ±k Gelir:</td>
                                <td className="negative-diff">‚Ç∫170,500.00</td>
                                <td>Toplam D√∂nem:</td>
                                <td className="negative-diff">‚Ç∫166,550.00</td>
                                <td>Fark:</td>
                                <td className="negative-diff">-‚Ç∫3,950.00</td>
                                <td colSpan={4}></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div className="footer">
                üìÑ Son g√ºncelleme: 08.09.2025 14:30 | üéØ Toplam kontrol edilen kayƒ±t: 9 | ‚ö†Ô∏è Bekleyen i≈ülem: 3
            </div>
        </div>
    );
};